<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>xhr</title>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
</head>

<body>

</body>
<script>
    // var xhr = new XMLHttpRequest();
    // xhr.addEventListener('readystatechange', function () {
    //     // If the request is compete and was successful
    //     if (xhr.readyState === 4 && xhr.status === 200) {
    //         var type = xhr.getResponseHeader('Content-Type');
    //         console.log(type);
    //         if (type === 'application/json') {
    //             console.log(JSON.parse(xhr.responseText))
    //         } else {
    //             console.log(xhr.responseText);
    //         }
    //     }
    // });

    // xhr.open('POST', 'http://192.168.0.143:8070', true);

    // var data = {
    //     find: "pizza",
    //     zipcode: 02134,
    //     radius: "1km"
    // }

    // // 设置 header  设置 body
    // // 1. application/x-www-form-urlencoded
    // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
    
    // xhr.send(encodeFormData(data));

    // // 2. application/json
    // // xhr.setRequestHeader('Content-Type', 'application/json');
    // // xhr.send(JSON.stringify(data));

    // function encodeFormData(data) {
    //     if (!data) return ''; // Always return a string
    //     var pairs = []; // To hold name=value pairs
    //     for (var name in data) { // For each name
    //         if (!data.hasOwnProperty(name)) continue; // Skip inherited
    //         if (typeof data[name] === 'function') continue; // Skip methods
    //         var value = data[name].toString(); // Value as string
    //         name = encodeURIComponent(name.replace(' ', '+')); // Encode name
    //         value = encodeURIComponent(value.replace(' ', '+')); // Encode value
    //         pairs.push(name + '=' + value); // Remember name=value pair
    //     }
    //     return pairs.join('&'); // Return joined pairs separated with &
    // }



    $.ajax({
        type: 'POST',
        url: 'http://192.168.0.143:8070',
        data: {
            name: 'nixixi',
            age: 19
        },
        dataType: 'json', // text
        success: function (data) {
            console.log(data);
        }
    });

</script>

</html>