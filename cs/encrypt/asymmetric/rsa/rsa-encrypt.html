<!doctype html>
<html>

<head>
  <title>JavaScript RSA Encryption</title>
  <script src="../node_modules/jsencrypt/bin/jsencrypt.min.js"></script>
</head>

<body>

  <label for="pubkey">Public Key</label><br />
  <textarea id="pubkey" rows="15" cols="65"></textarea><br />
  <label for="input">Text to encrypt:</label><br />
  <textarea id="inputEn" name="inputEn" type="text" rows=4 cols=70>This is a test!</textarea><br />
  <button id="encrypt">encrypt</button> <br>


  <label for="privkey">Private Key</label><br />
  <textarea id="privkey" rows="15" cols="65"></textarea><br />
  <label for="input">Text to encrypt:</label><br />
  <textarea id="inputDe" name="inputDe" type="text" rows=4 cols=70></textarea><br />
  <button id="decrypt">decrypt</button>
</body>

<script type="text/javascript">
  var pubkeyElem = document.getElementById('pubkey'),
    privkeyElem = document.getElementById('privkey'),
    encryptBtn = document.getElementById('encrypt'),
    decryptBtn = document.getElementById('decrypt'),
    inputEn = document.getElementById('inputEn'),
    inputDe = document.getElementById('inputDe');

  // encrypt
  encryptBtn.addEventListener('click', function () {
    var encrypt = new JSEncrypt();
    // 设置 pubkey
    encrypt.setPublicKey(pubkeyElem.value);
    // encrypt
    encrypted = encrypt.encrypt(inputEn.value);
    console.log(encrypted);
  });

  // decrypt
  decryptBtn.addEventListener('click', function () {
    var decrypt = new JSEncrypt();
    decrypt.setPrivateKey(privkeyElem.value);
    var uncrypted = decrypt.decrypt(inputDe.value);
    console.log(uncrypted);
  });
</script>

</html>